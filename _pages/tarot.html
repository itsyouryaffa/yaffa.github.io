---
layout: default
title: "Tarot"
permalink: /tarot/
author_profile: False
---

<div class="container">
    <h1>ğŸ”®</h1>
    <button id="draw-btn">æŠ½ä¸‰å¼ ç‰Œ</button>

    <div class="cards-container" id="cards-container">
        <div class="card-wrapper">
            <img class="tarot-img" src="../images/back.jpg" alt="ç‰Œ1">
            <div class="card-result"></div>
        </div>
        <div class="card-wrapper">
            <img class="tarot-img" src="../images/back.jpg" alt="ç‰Œ2">
            <div class="card-result"></div>
        </div>
        <div class="card-wrapper">
            <img class="tarot-img" src="../images/back.jpg" alt="ç‰Œ3">
            <div class="card-result"></div>
        </div>
    </div>
</div>

<style>
.container {
    max-width: 800px; margin: 50px auto; padding:20px;
    background:#fff; border-radius:8px; box-shadow:0 4px 8px rgba(0,0,0,0.1);
    text-align:center;
}
h1 { color: #4a148c; }
.cards-container { display:flex; justify-content:center; gap:20px; margin-top:30px; }
.card-wrapper { perspective:1000px; }
.tarot-img { width:150px; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.3); transition: transform 1s; }
.card-result { margin-top:8px; font-weight:bold; text-align:center; }
button { padding:10px 20px; font-size:18px; background:#6a1b9a; color:white; border:none; border-radius:5px; cursor:pointer; }
button:hover { background:#4a148c; }
</style>

<script>
document.addEventListener("DOMContentLoaded", function() {

    // å®šä¹‰æ‰€æœ‰ç‰Œ
    const majorArcana = Array.from({length:22}, (_,i)=>`m${i.toString().padStart(2,'0')}`);
    const cups = Array.from({length:14}, (_,i)=>`c${(i+1).toString().padStart(2,'0')}`);
    const coins = Array.from({length:14}, (_,i)=>`p${(i+1).toString().padStart(2,'0')}`);
    const swords = Array.from({length:14}, (_,i)=>`s${(i+1).toString().padStart(2,'0')}`);
    const wands = Array.from({length:14}, (_,i)=>`w${(i+1).toString().padStart(2,'0')}`);

    const allCards = [
        ...majorArcana.map(name=>({name, type:'å¤§é˜¿å°”å…‹é‚£'})),
        ...cups.map(name=>({name, type:'åœ£æ¯'})),
        ...coins.map(name=>({name, type:'æ˜Ÿå¸'})),
        ...swords.map(name=>({name, type:'å®å‰‘'})),
        ...wands.map(name=>({name, type:'æƒæ–'}))
    ];

    const button = document.getElementById("draw-btn");
    const cardWrappers = document.querySelectorAll(".card-wrapper");

    button.addEventListener("click", () => {
        let drawnCards = [];

        // éšæœºæŠ½ä¸‰å¼ ç‰Œ
        while(drawnCards.length < 3){
            const card = allCards[Math.floor(Math.random()*allCards.length)];
            if(!drawnCards.some(c=>c.name === card.name)){ // ç¡®ä¿ä¸é‡å¤
                const reversed = Math.random() < 0.5 ? "æ­£ä½" : "é€†ä½";
                drawnCards.push({...card, reversed});
            }
        }

        // ç¿»ç‰ŒåŠ¨ç”»ä¾æ¬¡æ˜¾ç¤º
        cardWrappers.forEach((wrapper, index)=>{
            const imgEl = wrapper.querySelector(".tarot-img");
            const resultDiv = wrapper.querySelector(".card-result");

            // å…ˆæ˜¾ç¤ºèƒŒé¢ç‰Œå¹¶é‡ç½®æ—‹è½¬
            imgEl.style.transform = "rotateY(0deg) rotate(0deg)";
            imgEl.src = "../images/back.jpg";
            resultDiv.innerText = "";

            setTimeout(()=>{
                const card = drawnCards[index];
                imgEl.src = `../images/${card.name}.jpg`;
                imgEl.style.transform = card.reversed === "é€†ä½" ? "rotateY(180deg) rotate(180deg)" : "rotateY(180deg) rotate(0deg)";
                resultDiv.innerText = `${card.name} (${card.type}) - ${card.reversed}`;
            }, index*500); // æ¯å¼ ç‰Œå»¶è¿Ÿ 0.5 ç§’
        });
    });
});
</script>
